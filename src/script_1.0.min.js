gsap.registerPlugin(ScrollTrigger,MotionPathPlugin),gsap.defaults({ease:"power3.out",duration:1});let easeIn="power3.in",easeInOut="power3.inOut",durationXs=.6,durationS=.75,durationL=1.25,durationXL=1.5;const breakpoints={mobile:479,mobileLandscape:767,tablet:991};let mm=gsap.matchMedia();function relaodBreakpoints(){function t(){const t=window.innerWidth;return t<=breakpoints.mobile?"mobile":t<=breakpoints.mobileLandscape?"mobileLandscape":t<=breakpoints.tablet?"tablet":"desktop"}let e=t();function o(){const o=t();o!==e&&(e=o,location.reload())}window.addEventListener("resize",o),window.addEventListener("load",o)}gsap.set("[data-visibility]",{visibility:"visible"});let navbar=document.querySelector("[data-nav]");function initScrollNav(){let t=gsap.from(navbar,{yPercent:-180,paused:!0,ease:easeInOut}).progress(1);ScrollTrigger.create({start:"top top",end:"max",onUpdate:e=>{-1===e.direction?t.play():t.reverse()}})}function initNavAppear(){gsap.set(navbar,{autoAlpha:0}),gsap.to(navbar,{yPercent:0,autoAlpha:1,duration:durationL},.2)}function initNavDropdown(){let t=navbar.querySelectorAll("[data-nav-dropdown]");0!==t.lenght&&t.forEach((t=>{let e=t.querySelector("[data-nav-submenu]"),o=(e.querySelectorAll(".nav__submenu--link"),e.querySelector("[data-submenu-inner]"));gsap.set(e,{autoAlpha:0});let a=gsap.timeline({paused:!0});a.set(o,{backdropFilter:"blur(16px)"}),a.to(e,{autoAlpha:1,yPercent:0,duration:durationXs}),t.addEventListener("mouseenter",(function(){a.play()})),t.addEventListener("mouseleave",(function(){a.reverse()}))}))}function openNavMobile(){let t=document.querySelector("[data-nav-mobile-btn]"),e=document.querySelector("[data-nav-mobile-menu]"),o=document.querySelectorAll("[data-nav-mobile-link]"),a=document.querySelector(".nav__mobile-btn--icon"),r=document.querySelector(".nav__mobile-btn--close-line"),n=gsap.timeline({paused:!0});n.from(e,{autoAlpha:0,duration:durationXs}),n.to(a,{opacity:0},"<"),n.to(r,{opacity:1},"<"),n.from(o,{opacity:0},.25),t.addEventListener("click",(()=>{0===n.progress()?n.play():n.reverse()})),e.querySelectorAll("[data-nav-mobile-dropdown]").forEach((t=>{let e=t.querySelector(".nav__mobile-link--icon"),o=t.querySelector(".nav__mobile-dropdown--background"),a=gsap.timeline({paused:!0});a.to(t,{height:"auto",ease:easeInOut}),a.from(o,{opacity:0},"<"),a.to(e,{rotateZ:"180deg"},0),t.addEventListener("click",(()=>{0===a.progress()?a.play():a.reverse()}))}))}function splitParagraph(t){new SplitType(t,{types:"lines",tagName:"span"});let e=t.querySelectorAll(".line");return e.forEach((function(t){let e=document.createElement("div");e.classList.add("u-line-wrap"),e.style.overflow="hidden",t.parentNode.insertBefore(e,t),e.appendChild(t)})),e}function initHeadings(){let t=document.querySelectorAll("[data-heading] .g_heading_rich h2");0!==t.lenght&&t.forEach((function(t){let e=splitParagraph(t);gsap.from(e,{scrollTrigger:{trigger:t,start:"top 80%",scrub:!1},yPercent:120,stagger:.1})}))}function initParagraphs(){let t=document.querySelectorAll("[data-paragraph] .g_paragraph_rich p, [data-paragraph]");0!==t.lenght&&t.forEach((function(t){let e=splitParagraph(t);gsap.from(e,{scrollTrigger:{trigger:t,start:"top 80%",scrub:!1},yPercent:120,stagger:.1})}))}function initFadeUp(){let t=document.querySelectorAll("[data-fade-up]");0!==t.lenght&&t.forEach((t=>{gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%"}}).from(t,{opacity:0,yPercent:30,duration:durationL})}))}function initCanvas(){let t=document.querySelector("[data-canvas]");t&&gsap.from(t,{opacity:0,duration:durationL},.5)}function initTransition(){let t=document.querySelector("[data-transition]");gsap.timeline().set(t,{autoAlpha:0}),$("a:not(.excluded-class)").on("click",(function(e){let o=$(this).attr("href");if($(this).prop("hostname")===window.location.host&&!o.includes("#")&&"_blank"!==$(this).attr("target")){e.preventDefault(),gsap.timeline({onComplete:()=>window.location.href=o}).fromTo(t,{autoAlpha:0},{autoAlpha:1})}})),window.onpageshow=function(t){t.persisted&&window.location.reload()}}function initHeroMain(){let t=document.querySelector("[data-hero-main-title] .g_heading_rich h1");if(!t)return;let e=document.querySelector("[data-hero-main-paragraph] .g_paragraph_rich p"),o=document.querySelector("[data-hero-main-eyebrow]"),a=document.querySelector("[data-hero-main-btn-list]"),r=document.querySelector("[data-hero-main-customer-marquee]");gsap.timeline().from([t,e,o,a,r],{opacity:0,stagger:.1},.75)}function initProducts(){let t=document.querySelectorAll(".products__visual--img");0!==t.lenght&&t.forEach((t=>{t.querySelector(".products__svg--gradient"),t.querySelector(".products__svg--main");gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%",scrub:!1}}).from(t,{opacity:0})}))}function initFadeList(){let t=document.querySelectorAll("[data-fade-item-wrap]");0!==t.lenght&&t.forEach((t=>{let e=t.querySelectorAll("[data-fade-item]");gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%"}}).from(e,{opacity:0,stagger:.2,duration:durationL})}))}function initCtaPath(){let t=document.getElementById("path-top-left"),e=document.getElementById("path-center-left"),o=document.getElementById("path-bottom-left"),a=document.getElementById("path-top-right"),r=document.getElementById("path-center-right"),n=document.getElementById("path-bottom-right"),i=document.querySelectorAll(".cta-s__svg--blur.is--top-left"),l=document.querySelectorAll(".cta-s__svg--blur.is--center-left"),u=document.querySelectorAll(".cta-s__svg--blur.is--bottom-left"),c=document.querySelectorAll(".cta-s__svg--blur.is--top-right"),s=document.querySelectorAll(".cta-s__svg--blur.is--center-right"),d=document.querySelectorAll(".cta-s__svg--blur.is--bottom-right"),p=document.querySelectorAll(".cta-s__svg--rect");if(0===p.length)return;let g=gsap.timeline({repeat:-1});g.to(i,{duration:5,motionPath:{path:t,align:t,alignOrigin:[.5,.5],autoRotate:!0,start:.15}}),g.to(l,{duration:5,motionPath:{path:e,align:e,alignOrigin:[.5,.5],autoRotate:!0,start:.15}},"<0.5"),g.to(u,{duration:5,motionPath:{path:o,align:o,alignOrigin:[.5,.5],autoRotate:!0,start:.15}},"<-0.4"),g.to(c,{duration:5,motionPath:{path:a,align:a,alignOrigin:[.5,.5],autoRotate:!0,start:1,end:.1},ease:"none"},3),g.to(s,{duration:5,motionPath:{path:r,align:r,alignOrigin:[.5,.5],autoRotate:!0,start:1,end:.1},ease:"none"},"<"),g.to(d,{duration:5,motionPath:{path:n,align:n,alignOrigin:[.5,.5],autoRotate:!0,start:1,end:.1},ease:"none"},"<"),gsap.from(p,{opacity:0,stagger:{each:.5,from:"end"},repeat:-1,yoyo:!0,ease:"none"},0)}function initFeaturesMobileDropdown(){if(!document.querySelector(".features-list__content"))return;document.querySelectorAll(".features-list__item--w");let t=document.querySelectorAll(".features-list__mobile-item");gsap.set(t,{height:"4.25rem"}),t.forEach((e=>{let o=gsap.timeline({paused:!0}),a=e.querySelector(".features-list__mobile-header"),r=e.querySelector(".features-list__visual"),n=e.querySelector(".features-list__content");gsap.set(n,{opacity:0,display:"none"}),o.set(n,{display:"block"}),o.to(e,{height:"auto",ease:easeInOut,duration:durationS},"<"),o.to(n,{opacity:1,duration:durationS},"<"),o.from(r,{opacity:0,duration:durationS},"<"),o.to(a,{opacity:0,duration:.1},"<0.1"),e==t[0]&&o.play(),e.addEventListener("click",(()=>{0===o.progress()?o.play():o.reverse()}))}))}function initPricingHero(){let t=document.querySelector("[data-pricing-title]");if(!t)return;let e=document.querySelector("[data-pricing-subtitle]"),o=(document.querySelector("[data-pricing-selector]"),document.querySelectorAll('[data-pricing-card="monthly"]')),a=document.querySelector("[data-pricing-background]"),r=gsap.timeline();r.from([a,t,e],{opacity:0},.5),r.from(o,{opacity:0},"<0.25")}function setupFormInteraction(t={}){const{formSelector:e=".footer__form",inputSelector:o=".footer__form--input",buttonSelector:a=".footer__form--submit",externalInputSelector:r='[data-testid="input"]',externalButtonSelector:n='[data-testid="button"]'}=t,i=document.querySelector(e),l=document.querySelector(o),u=document.querySelector(a),c=document.querySelector(r),s=document.querySelector(n);i&&l&&u?(l.addEventListener("input",(function(){c&&(c.value=this.value)})),i.addEventListener("submit",(function(t){t.preventDefault(),s?s.click():console.warn("Le bouton du formulaire externe n'a pas été trouvé.")}))):console.error("Les éléments du formulaire personnalisé n'ont pas été trouvés.")}function initGlobal(){relaodBreakpoints(),initScrollNav(),initNavAppear(),initNavDropdown(),openNavMobile(),initFadeUp(),initCanvas(),initTransition(),initHeroMain(),initProducts(),initFadeList(),initCtaPath(),initFeaturesMobileDropdown(),initPricingHero(),setupFormInteraction()}initGlobal();
